apiVersion: v1
kind: ConfigMap
metadata:
  name: wireguard-shared-config
  namespace: wireguard-proxy
data:
  # Server configuration (shared values)
  server-public-key: "wDsq5NmxwWELxjb57kAMppepoWNtR1GLe1kqZAHXrnA="
  gateway-server-ip: "10.7.96.3"
  gateway-server-port: "51820"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: wireguard-config-1
  namespace: wireguard-proxy
data:
  pod-ip: "10.0.0.2"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: wireguard-config-2
  namespace: wireguard-proxy
data:
  pod-ip: "10.0.0.3"

# Secrets should be generated by wireguard-gate and injected to kubernetes
# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: wireguard-secret-1
#   namespace: wireguard-proxy
# type: Opaque
# data:
#   pod-private-key: "<POD1_PRIVATE_KEY_BASE64>"

# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: wireguard-secret-2
#   namespace: wireguard-proxy
# type: Opaque
# data:
#   pod-private-key: "<POD2_PRIVATE_KEY_BASE64>"